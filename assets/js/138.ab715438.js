(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{429:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"html-script-标签中的-defer-和-async"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html-script-标签中的-defer-和-async","aria-hidden":"true"}},[t._v("#")]),t._v(" HTML script 标签中的 defer 和 async")]),t._v(" "),s("p",[t._v("脚本的下载和执行将会按照文档的先后顺序同步进行。当脚本下载和执行的时候，文档解析就会被阻塞，在脚本下载和执行完成之后文档才能往下继续进行解析。总之脚本的下载和执行都是按照文档的先后顺序进行。")]),t._v(" "),s("h2",{attrs:{id:"defer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#defer","aria-hidden":"true"}},[t._v("#")]),t._v(" defer")]),t._v(" "),s("p",[s("code",[t._v("defer")]),t._v(" 属性表示脚本按顺序被解析到时就开始下载，下载过程中文档继续进行解析，当文档全部解析完成之后便开始执行下载好的脚本，这相当于在 "),s("code",[t._v("DOMContentLoaded")]),t._v(" 的监听事件内进行执行。虽然 "),s("code",[t._v("defer")]),t._v(" 属性的脚本需要等到文档解析完才开始执行，但其执行是有顺序的。")]),t._v(" "),s("h2",{attrs:{id:"async"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#async","aria-hidden":"true"}},[t._v("#")]),t._v(" async")]),t._v(" "),s("p",[s("code",[t._v("async")]),t._v(" 属性表示脚本按顺序被解析到时就开始下载，下载过程中文档继续进行解析，当下载完成后文档停止解析开始执行下载好的脚本，脚本执行完后继续解析文档。"),s("code",[t._v("async")]),t._v(" 脚本由于网络等的影响将不会按照顺序执行。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img.hacpai.com/file/2018/12/215179843659da4801c6772_articlex-b75598d7.png",alt:"215179843659da4801c6772_articlexpng"}})]),t._v(" "),s("p",[t._v("注意：两个属性都必须在脚本中含有 "),s("code",[t._v("src")]),t._v(" 属性时才能进行使用，内联脚本不可以使用。如下所示：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("myscript.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("myscript.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("defer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("myscript.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("async")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("把带 "),s("code",[t._v("defer")]),t._v(" 属性的脚本放在 "),s("code",[t._v("<head>")]),t._v(" 中比无属性的脚本放在 "),s("code",[t._v("</body>")]),t._v(" 之前要更好，因为浏览器在页面解析时可对带 "),s("code",[t._v("defer")]),t._v(" 属性的脚本进行下载。")]),t._v(" "),s("li",[t._v("如果脚本相互依赖，请使用 "),s("code",[t._v("defer")]),t._v("。")]),t._v(" "),s("li",[t._v("如果脚本是独立的，请使用 "),s("code",[t._v("async")]),t._v("。")]),t._v(" "),s("li",[t._v("如果 DOM 必须解析好才执行且执行函数没有放在 "),s("code",[t._v("DOMContentLoaded")]),t._v(" 的监听器中，请使用 "),s("code",[t._v("defer")]),t._v("。")])]),t._v(" "),s("p",[t._v("作者：Vanessa")]),t._v(" "),s("p",[t._v("链接：https://hacpai.com/article/1545093175137")]),t._v(" "),s("p",[t._v("来源：黑客派")]),t._v(" "),s("p",[t._v("协议：CC BY-SA 4.0 https://creativecommons.org/licenses/by-sa/4.0/")])])},[],!1,null,null,null);a.default=n.exports}}]);